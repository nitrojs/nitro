---
icon: ri:database-2-line
---

# Database Layer

Nitro provides a built-in database layer for SQL compatible backends.

See [DB0](https://db0.unjs.io) for detailed usage.

## Experimental Feature

In order to enable experimental Storage API:

```ts [nitro.config.ts]
import { defineNitroConfig } from 'nitropack/config'

export default defineNitroConfig({
  experimental: {
    database: true
  }
})
```

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  nitro: {
    experimental: {
      database: true
    }
  }
})
```

## Database Configuration

You can mount storage drivers using the `storage` option:

::code-group
```ts [nitro.config.ts]
import { defineNitroConfig } from 'nitropack/config'

export default defineNitroConfig({
  storage: {
    'redis': {
      driver: 'redis',
      /* redis connector options */
    },
    'db': {
      driver: 'fs',
      base: './data/db'
    }
  }
})
```
```ts [nuxt.config.ts]
export default defineNuxtConfig({
  nitro: {
    storage: {
      redis: {
        driver: 'redis',
        /* redis connector options */
      },
      db: {
        driver: 'fs',
        base: './.data/db'
      }
    }
  }
})
```
::

Usage:

```ts
```

## Development Database

You can use the `devDatabase` key to overwrite the database configuration during development, very useful when you use a database in production and want to use the filesystem in development.

::code-group
```ts [nitro.config.ts]
export default defineNitroConfig({
  // Production
  storage: {
    db: {
      driver: 'redis',
      /* redis connector options */
    }
  },
  // Development
  devStorage: {
    db: {
      driver: 'fs',
      base: './data/db'
    }
  }
})
```
```ts [nuxt.config.ts]
export default defineNuxtConfig({
  nitro: {
    // Production
    storage: {
      db: {
        driver: 'redis',
        /* redis connector options */
      }
    },
    // Development
    devStorage: {
      db: {
        driver: 'fs',
        base: './data/db'
      }
    }
  }
})
```
::
